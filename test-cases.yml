---
- summary: |
    Проверка успешной авторизации
  requirement: |
    При верном вводе логине и пароля пользователь должен войти в систему
  prerequisites: |
    no data
  test-data: |
    no data
  steps:
    - В поле Email вводим Логин (Email) существующего пользователя
    - В поле Password вводим пароль существующего пользователя
    - Нажимаем кнопку «Submit»
  expected-result: |
    Открыта основная (лобби) страница Codebattle

- summary: |
    Проверка входа пользователя с несуществующими логином и паролем
  requirement: |
    При неправильном логине или пароле пользователь должен получить сообщение об ошибке
  prerequisites:
    no data
  test-data: |
    Логин = TestUser Пароль = Qq123456
  steps:
    - В поле Email вводим Логин 
    - В поле Password вводим пароль
    - Нажимаем кнопку «Submit»
  expected-result: |
    Ошибка ввода данных

- summary: |
    Проверка регистрации нового пользователя
  requirement: |
    При корректном заполнении всех полей в карточке регистрации пользователь должен войти в систему
  prerequisites: |
    Открыта страница регистрации нового пользователя
  test-data: |
    no data
  steps:
    - В поле Nickname вводим имя нового пользователя
    - В поле Email вводим адрес нового пользователя
    - В поле Password вводим пароль нового пользователя
    - В поле Password Confirmation повторно вводим пароль нового пользователя
    - Нажимаем кнопку «Submit»
  expected-result: |
    Открыта основная (лобби) страница Codebattle

- summary: |
    Проверка авторизации пользователя с помощью Github
  requirement: |
    При авторизации с помощью учетной записи в Github пользователя происходит вход в систему
  prerequisites:
    Пользователь зарегистрирован в Github
    Логин и пароль пользователя не сохранены в браузере. 
    Вход в Github не выполнен
  test-data: |
    no data
  steps:
    - Нажимаем кнопку «Sign in with Github»
    - Открывается страница логина Github
    - Вводим логин пользователя Github
    - Вводим пароль пользователя Github
    - Нажимаем кнопку «Sign in»
  expected-result: |
    Открыта основная (лобби) страница Codebattle. Выполнена авторизация. 
    
- summary: |
    Проверка авторизации пользователя с помощью Didcord
  requirement: |
    При авторизации с помощью учетной записи в Didcord пользователя происходит вход в систему
  prerequisites:
    Пользователь зарегистрирован в Didcord. Вход в Didcord выполнен.    
  test-data: |
    no data
  steps:
    - Нажимаем кнопку «Sign in with Didcord»
    - Открывается страница запроса доступа к учетной записи Didcord
    - Нажимаем кнопку «Авторизовать»     
  expected-result: |
    Открыта основная (лобби) страница Codebattle. Выполнена авторизация.

- summary: |
    Проверка создания игры без регистрации пользователя
  requirement: |
    Без регистрации пользователя возможно создание игры
  prerequisites:
    no data
  test-data: |
    no data
  steps:
    - Открываем ссылку https://codebattle.hexlet.io
    - Нажимаем кнопку «Try simple battle» 
  expected-result: |
    Запущена игра Codebattle
    
- summary: |
    Проверка создания турнира
  requirement: |
    Пользователь может создать игровой турнир
  prerequisites:
    Пользователь авторизован. 
  test-data: |
    no data
  steps:
    - Нажимаем кнопку профиля игрока в шапке сайта
    - В открывшемся окне нажимаем кнопку «Tournaments»
    - Листаем вниз до окна создания турнира «Create a new tournament»
    - Все поля окна оставляем по умолчанию
    - Нажимаем кнопку «Create» 
  expected-result: |
    Открылось окно созданного турнира.

- summary: |
    Проверка создания игры с ботом
  requirement: |
    Пользователь может создать игру с ботом
  prerequisites:
    no data
  test-data: |
    no data
  steps:
    - Нажимаем кнопку «Create a game»
    - Открывается окно «Create a game» с возможностью создания игры
    - Устанавливаем уровень игры, например «Medium» 
    - Нажимаем кнопку «With a bot»
    - Устанавливаем время игры «Time control», например 15 min
    - В поле «Choose task by name or tags» выбираем игру, например «bulls_and_cows»
    - Нажимаем кнопку «Create battle»
  expected-result: |
    Запущена игра с заданными параметрами

- summary: |
    Проверка создания игры с другом
  requirement: |
    Пользователь может создать игру и пригласить в нее друга
  prerequisites:
    В игре онлайн находится друг, например TestUser
  test-data: |
    no data
  steps:
    - Нажимаем кнопку «Create a game»
    - Открывается окно «Create a game» с возможностью создания игры
    - Устанавливаем уровень игры, например «Hard» 
    - Нажимаем кнопку «With a friend»
    - Устанавливаем время игры «Time control», например 4 min
    - В поле «Choose opponent» выбираем друга, например TestUser
    - В поле «Choose task by name or tags» выбираем игру, например «baudot_code»
    - Нажимаем кнопку «Create invite»
    - Пользователю отправлено TestUser приглашение в игру
    - Пользователь TestUser видит приглашение в игру и принимает его
  expected-result: |
    Запущена игра с заданными параметрами

- summary: |
    Проверка создания случайной игры заданного уровня сложности с ботом
  requirement: |
    Пользователь может создать случайную игру заданного уровня сложности с ботом
  prerequisites:
    Пользователь авторизован.
  test-data: |
    no data
  steps:
    - Нажимаем кнопку «Create a game»
    - Открывается окно «Create a game» с возможностью создания игры
    - Устанавливаем уровень игры, например 1
    - Нажимаем кнопку «With a bot»
    - Устанавливаем время игры «Time control», например 3 min
    - В поле «Choose task by name or tags» оставляем случайную игру (random task)
    - Выбираем Tags, например «math»
    - Нажимаем кнопку «Create battle»
  expected-result: |
    Запущена случайная игра с заданными параметрами

- summary: |
    Проверка сортировки по рейтингу в таблице рейтинга пользователей
  requirement: |
    Пользователь может сортировать по рейтингу в таблице рейтинга
  prerequisites:
    no data
  test-data: |
    no data
  steps:
    - Нажимаем кнопку «TOP_list»
    - Открывается окно «User rating» с возможностью создания игры
    - Нажимаем кнопку выбота периода сортировки, например «monthly»
    - Нажимаем кнопку «Ratinge» для сортировки данных
  expected-result: |
    Выполнена сортировка данных

- summary: |
    Проверка верстки окна создания турнира
  requirement: |
    При заполнении данными окно создания турнира «Create a new tournament» корректно отображается
  prerequisites:
    Пользователь авторизован.
  test-data: |
    no data
  steps:
    - Нажимаем кнопку профиля игрока в шапке сайта
    - В открывшемся окне нажимаем кнопку «Tournaments»
    - Листаем вниз до окна создания турнира «Create a new tournament»
    - В поле «Starts at» в установленной по умолчанию дате удаляем данные, например год
  expected-result: |
    Все поля формы отображаются корректно
